{"version":3,"file":"model-element.js","sources":["../src/utils/model.js","../src/utils/url.js","../src/modelLoader.js","../src/utils/css.js","../src/utils/dom.js","../src/modelLayer.js","../src/modelElement.js","../src/loaders/gltf.js","../src/loaders/obj.js","../src/index.js"],"sourcesContent":["/* While mapping objects to a DOM element, it's useful to have a bounding box\nto reference. Enabling this flag will produce just that, a 2D bounding rect\nthat should match the related DOM element */\nconst RENDER_OBJECT_BOUNDING_BOX = false;\n\n\nconst normalize = obj => {\n  let box = new THREE.Box3().setFromObject(obj);\n  let size = new THREE.Vector3();\n  box.getCenter(obj.position);\n  box.getSize(size);\n\n  let scale = 1 / Math.max(size.x, size.y);\n  obj.position.multiplyScalar(-scale);\n  obj.scale.set(scale, scale, scale);\n  return obj;\n}\n\n\nconst createDebugBoundingBox = obj => {\n  let material = new THREE.LineBasicMaterial({color: 0x00ff00});\n  let geometry = new THREE.PlaneGeometry(1, 1);\n  let wireframe = new THREE.WireframeGeometry(geometry);\n  let boundingBox = new THREE.LineSegments(wireframe, material);\n  return boundingBox;\n}\n\n\nconst createContainer = obj => {\n  let container = new THREE.Object3D();\n\n  if (RENDER_OBJECT_BOUNDING_BOX) {\n    container.add(createDebugBoundingBox());\n  }\n\n  container.add(obj);\n\n  return container;\n}\n\n\nexport default {\n  normalize,\n  createDebugBoundingBox,\n  createContainer\n}\n","\nconst getFileExtension = url => {\n  let path = url.split(/[?#]/)[0];\n  let segments = path.split('/');\n  let filename = segments.pop();\n  let ext = filename.split('.');\n  if (ext.length > 0) {\n    return '.' + ext.pop();\n  }\n}\n\nexport default {\n  getFileExtension\n}","import modelUtils from './utils/model';\nimport urlUtils from './utils/url';\n\n\nconst loaders = {};\n\n\nconst register = (ext, handler) => {\n  loaders[ext] = {\n    load: handler,\n    objectCache: {}\n  };\n}\n\n\nconst load = src => {\n  let loader;\n  let object;\n  let ext = urlUtils.getFileExtension(src);\n\n  if (ext) {\n    loader = loaders[ext];\n  }\n\n  if (!loader) {\n    console.error(`Couldn't load \"${src}\". Unknown object format \"${ext}\"`);\n    return Promise.reject();\n  }\n\n  object = loader.objectCache[src];\n  if (!object) {\n    object = loader.load(src).then(obj => {\n      // To help make sizing easier to deal with we normalize the models \n      // dimenstions so its maximum width / height is 1. When rendering the\n      // object we can scale it up by the width of the target DOM element.\n      modelUtils.normalize(obj);\n\n      // Finally the model is inserted into a container.\n      return modelUtils.createContainer(obj);\n    });\n    loader.objectCache[src] = object;\n  }\n  \n  return object.then(model => model.clone());\n}\n\n\nexport default {\n  load,\n  register\n};\n","/**\n * Strips the unit from a value (i.e. 100.55px) and converts the remaining\n * value to a number.\n */\nconst parseUnitValue = value => {\n  return parseFloat(value || 0);\n}\n\n\n/**\n * Parses a CSS origin string (`perspective-origin`, `transform-origin`) into\n * it's X, Y and Z components and populates the supplied THREE.Vector3 with\n * the result.\n */\nconst parseOriginValue = (originString, vec3) => {\n  let transformOrigin = originString.split(' ');\n  vec3.set(\n    parseUnitValue(transformOrigin[0]),\n    parseUnitValue(transformOrigin[1]),\n    parseUnitValue(transformOrigin[2])\n  );\n}\n\n\n/**\n * Parses a CSS 3x2 matrix() or 4x4 matrix3d() string into its compontents and \n * populates the passed THREE.Matrix4 with the result.\n * \n * (https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/)\n */\n\n  const parseTransformValue = (matrixString, mat4) => {\n    var c = matrixString.split(/\\s*[(),]\\s*/).slice(1, -1);\n\n    if (c.length === 6) {\n      // 'matrix()' (3x2)\n      mat4.set(\n        +c[0], -c[2],      0,  +c[4],\n        -c[1], +c[3],      0,  -c[5],\n            0,     0,      1,      0,\n            0,     0,      0,      1\n      );\n    } else if (c.length === 16) { \n      // matrix3d() (4x4)\n      mat4.set(\n        +c[0], -c[4],  +c[8], +c[12],\n        -c[1], +c[5],  -c[9], -c[13],\n        +c[2], -c[6], +c[10], +c[14],\n        +c[3], +c[7], +c[11], +c[15]\n      );\n    } else {\n      // handle 'none' or invalid values.\n      mat4.identity();\n    }\n  };\n\nexport default {\n  parseTransformValue,\n  parseOriginValue,\n  parseUnitValue\n}","import cssUtils from './css';\n\n/**\n * Resolves and returns the transform and perspective properties for a given\n * element. \n */\n\nconst getTransformForElement = elem => {\n  let m1 = new THREE.Matrix4();\n  let transformMatrix = new THREE.Matrix4();\n  let transformOrigin = new THREE.Vector3();\n  let transformOriginMatrix = new THREE.Matrix4();\n  let perspectiveOrigin = new THREE.Vector3();\n  let osParent = elem;\n  let stack = [];\n  let posX = 0;\n  let posY = 0;\n  let perspective = 0;\n\n  // if this element doesn't have a width or height bail out now.\n  if (elem.offsetWidth === 0 || elem.offsetHeight === 0) {\n    return {\n      matrix: m1\n    };\n  }\n\n  posX -= elem.offsetWidth / 2;\n  posY += elem.offsetHeight / 2;\n\n  // We need to apply transforms from the root so we walk up the DOM tree,\n  // pushing each node onto a stack. While we're walking to the DOM we also\n  // resolve the elements X/Y position.\n  while (elem) {\n    if (elem === osParent) {\n      posX += elem.offsetLeft;\n      posY += elem.offsetTop;\n      osParent = elem.offsetParent;\n    }\n    stack.push(elem);\n    posX -= elem.scrollLeft;\n    posY -= elem.scrollTop;\n    elem = elem.parentElement;\n  }\n\n\n  m1.makeTranslation(posX, -posY, 0);\n\n  // Now we can resolve transforms.\n  while (elem = stack.pop()) {\n\n    let style = getComputedStyle(elem);\n\n    // TODO: It's possible to nest perspectives. Need to research the impact\n    // of this and, if possible, how to emulate it. For now, we'll just use\n    // the last value found.\n    let perspectiveValue = style.perspective;\n    if (perspectiveValue !== 'none') {\n      perspective = cssUtils.parseUnitValue(perspectiveValue);\n\n      // TODO: strictly speaking, `perspective-origin` can be set on any\n      // element, not just the one that has `perspective`. Research the impact\n      // of setting perspective-origin on different elements in the DOM tree.\n      let perspectiveOriginValue = style.perspectiveOrigin;\n      if (perspectiveOriginValue) {\n        cssUtils.parseOriginValue(perspectiveOriginValue, perspectiveOrigin);\n      }\n    }\n\n    cssUtils.parseOriginValue(style.transformOrigin, transformOrigin);\n    cssUtils.parseTransformValue(style.transform, transformMatrix);\n\n    let ox = transformOrigin.x - elem.offsetWidth / 2;\n    let oy = transformOrigin.y - elem.offsetHeight / 2;\n    let oz = transformOrigin.z;\n\n    // If the computed `transform-origin` is a value other than `50% 50% 0`\n    // (`0,0,0` in THREE coordinate space) then we need to translate by the\n    // origin before multiplying the element's transform matrix. Finally, we\n    // need undo the translation.\n    if (ox !==0 || oy !==0 || oz !== 0) {\n      m1.multiply(transformOriginMatrix.makeTranslation(ox, -oy, oz));\n      m1.multiply(transformMatrix);\n      m1.multiply(transformOriginMatrix.makeTranslation(-ox, oy, -oz));\n    } else {\n      m1.multiply(transformMatrix);\n    }\n  }\n\n  return {\n    matrix: m1,\n    perspective: perspective,\n    perspectiveOrigin: perspectiveOrigin\n  };\n}\n\n\nconst createStylesheet = cssText => {\n  let styleElem = document.createElement('style');\n  styleElem.textContent = cssText;\n  return styleElem;\n}\n\n\nexport default {\n  getTransformForElement,\n  createStylesheet\n}\n","import domUtils from './utils/dom';\n\nlet perspective;\nlet camera;\nlet overlayWidth;\nlet overlayHeight;\nlet perspectiveCamera;\nlet orthographicCamera\nlet renderer;\nlet scene;\nlet light;\n\n\nconst init = () => {\n  if (scene) {\n    return false;\n  }\n\n  // create the scene\n  scene = new THREE.Scene();\n\n  // add a light\n  light = new THREE.DirectionalLight(0xffffff, 1);\n  light.position.set(0, 0, 1);\n  scene.add(light);\n\n  // create the WebGL renderer\n  renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true\n  });\n\n  requestAnimationFrame(render);\n\n  return renderer.domElement;\n}\n\n\nconst add = obj => {\n  scene.add(obj);\n}\n\n\nconst remove = (obj) => {\n  scene.remove(obj);\n}\n\n\nconst update = () => {\n  let needsRender = false;\n\n  overlayWidth = window.innerWidth;\n  overlayHeight = window.innerHeight;\n  camera = null;\n\n  // Walk over each object and update it\n  scene.children.forEach(child => {\n    let elem = child.elem;\n    if (elem) {\n\n      let width = elem.offsetWidth;\n      let transform = domUtils.getTransformForElement(elem);\n\n      // If we haven't yet figured out which type of camera to use for\n      // projecting the scene, do it now. If the current element doesn't have\n      // a parent with a `perspective`, we use orthographic projection.\n      if (!camera) {\n        if (transform.perspective) {\n          camera = setPerspectiveCamera(transform.perspective, transform.perspectiveOrigin);\n        } else {\n          camera = setOrthographicCamera();\n        }\n      }\n\n      // Apply the transform matrix of them DOM node to the model\n      child.rotation.setFromRotationMatrix(transform.matrix);\n      child.position.setFromMatrixPosition(transform.matrix);\n      child.scale.setFromMatrixScale(transform.matrix);\n\n      // Objects are normalised so we can scale them up by their width to\n      // render them at the intended size. Scaling by a factor of `0` causes\n      // problems with inverting matrix because the determinant will be 0 so\n      // we use a default of `1`.\n      child.scale.multiplyScalar(width || 1);\n\n      // Three's coordinate space uses 0,0,0 as the screen centre so we need\n      // to adjust the computed X/Y position back to the top-left of the\n      // screen to match the CSS rendering position.\n      child.position.x += width - overlayWidth / 2;;\n      child.position.y += overlayHeight / 2;\n    }\n\n    // TODO: determine if this object is visible the viewport and set the\n    // `needsRender` flag accordingly\n    if (!needsRender) {\n      needsRender = true;\n    }\n  });\n\n  return camera && needsRender;\n}\n\n\nconst setOrthographicCamera = () => {\n  let camera;\n  \n  if (!orthographicCamera) {\n    orthographicCamera = new THREE.OrthographicCamera();\n  } \n  \n  camera = orthographicCamera;\n  camera.left = -overlayWidth / 2;;\n  camera.right = overlayWidth / 2;;\n  camera.top = overlayHeight / 2;\n  camera.bottom = -overlayHeight / 2;\n  camera.far = 2000;\n  camera.near = -700;\n  camera.updateProjectionMatrix();\n\n  return camera;\n}\n\n\nconst setPerspectiveCamera = (perspective, perspectiveOrigin) => {\n  let camera;\n  \n  if (!perspectiveCamera) {\n    perspectiveCamera = new THREE.PerspectiveCamera();\n  }\n\n  camera = perspectiveCamera;\n  camera.fov = 180 * (2 * Math.atan(overlayHeight / 2 / perspective)) / Math.PI;\n  camera.aspect = overlayWidth / overlayHeight;\n  camera.position.set(0, 0, perspective);\n  camera.updateProjectionMatrix();\n\n  // Add perspective-origin\n  let originX = overlayWidth / 2 - perspectiveOrigin.x;\n  let originY = overlayHeight / 2 - perspectiveOrigin.y;\n\n  // The default is origin for perspective is `50% 50%`, which equates to\n  // `0,0`. If the author hasn't specified a different value we don't need\n  // to make any adjustments to the projection matrix\n  if (originX !==0 || originY !== 0) {\n\n    // copy the projection matrix\n    let tmpMatrix = camera.projectionMatrix.clone();\n\n    // set the camera projection matrix to the origin\n    camera.projectionMatrix.makeTranslation(\n      -originX / (overlayWidth / 2),\n      originY / (overlayHeight / 2),\n      0\n    );\n\n    // apply to original camera projection matrix\n    camera.projectionMatrix.multiply(tmpMatrix);\n\n    // remove the origin offset\n    tmpMatrix.makeTranslation(originX, -originY, 0);\n    camera.projectionMatrix.multiply(tmpMatrix);\n  }\n\n  return camera;\n}\n\n\nconst render = () => {\n  requestAnimationFrame(render);\n\n  if (update()) {\n    renderer.setSize(overlayWidth, overlayHeight);\n    renderer.render(scene, camera);\n  };\n}\n\n\nexport default {\n  init,\n  add,\n  remove,\n  render\n}\n","import modelLoader from './modelLoader';\nimport modelLayer from './modelLayer';\nimport domUtils from './utils/dom';\n\n\nconst objects = new WeakMap();\n\nconst ELEMENT_DEFAULT_STYLES =\n  '#x-model-renderLayer{' +\n    'position:fixed;' +\n    'top:0;' +\n    'left:0;' +\n    'pointer-events:none' +\n  '}' +\n  'x-model{' +\n    'display:inline-block;' +\n    'width:250px;' +\n    'height:250px' +\n  '}';\n\nlet styleElem;\n\n\nconst initModelLayer = () => {\n  // The first time an element is added to the document we inject a\n  // stylesheet that contains its default styles. Ideally this would be\n  // appended to the shadow DOM, but support for that isn't great right now.\n  styleElem = domUtils.createStylesheet(ELEMENT_DEFAULT_STYLES);\n  let head = document.documentElement.firstChild;\n  head.insertBefore(styleElem, head.firstChild);\n\n  // Initialize the model layer and append the resulting DOM node to the\n  // document root - outside the <body> to prevent perspective or transform\n  // styles from affecting it.\n  let renderDomElement = modelLayer.init();\n  renderDomElement.setAttribute('id', 'x-model-renderLayer');\n  document.documentElement.appendChild(renderDomElement);\n}\n\n\nexport default class extends HTMLElement {\n\n  constructor() {\n    super();\n  }\n\n  static get observedAttributes() {\n    return ['src'];\n  }\n\n  connectedCallback() {\n    if (!styleElem) {\n      initModelLayer();\n    }\n\n    let obj = objects.get(this);\n    if (obj && obj.elem !== this) {\n      obj.elem = this;\n      modelLayer.add(obj);\n    }\n  }\n\n  disconnectedCallback() {\n    let obj = objects.get(this);\n    if (obj && obj.elem === this) {\n      modelLayer.remove(obj);\n      obj.elem = null;\n    }\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (attribute === 'src') {\n\n      // call the disconnected callback handler to release the current model if\n      // one is attached\n      this.disconnectedCallback();\n\n      modelLoader.load(newValue).then(obj => {\n        let event = new UIEvent('load');\n        this.dispatchEvent(event);\n        objects.set(this, obj);\n        this.connectedCallback();\n      }).catch(e => {\n        let event = new UIEvent('error');\n        this.dispatchEvent(event);\n      });\n    }\n  }\n\n}\n","let loader;\n\n\nexport default src => {\n\n  return new Promise((resolve, reject) => {\n\n    const loadHandler = gltf => {\n      resolve(gltf.scene);\n    }\n\n    const errorHandler = () => {\n      reject();\n    }\n\n    if (!loader) {\n      loader = new THREE.GLTFLoader();\n    }\n\n    return loader.load(src, loadHandler, null, errorHandler);\n\n  });\n}\n","let loader;\n\n\nexport default src => {\n\n  return new Promise((resolve, reject) => {\n\n    const loadHandler = obj => {\n      resolve(obj);\n    }\n\n    const errorHandler = () => {\n      reject();\n    }\n\n    if (!loader) {\n      loader = new THREE.OBJLoader();\n    }\n\n    return loader.load(src, loadHandler, null, errorHandler);\n\n  });\n}\n","import HTMLModelElement from './modelElement.js';\nimport modelLoader from './modelLoader.js';\nimport gltfLoader from './loaders/gltf';\nimport objLoader from './loaders/obj';\n\n\nif ('customElements' in window) {\n\n  if (!('THREE' in window)) {\n    throw 'THREE (threejs.org) is required.';\n  }\n\n  if ('GLTFLoader' in THREE) {\n    modelLoader.register('.gltf', gltfLoader);\n    modelLoader.register('.glb', gltfLoader);\n  }\n\n  if ('OBJLoader' in THREE) {\n    modelLoader.register('.obj', objLoader);\n  }\n\n  customElements.define('x-model', HTMLModelElement);\n}\n"],"names":["loader"],"mappings":"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"}